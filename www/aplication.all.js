"use strict";function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}angular.module("app.3dparty",["ui.router"]),angular.module("app.common",[]),angular.module("app.features",["app.login","app.productCreate","app.productEdit","app.productList","app.userCreate","app.home"]);var run=function(){var e=io("http://192.168.25.162:3030"),o=feathers().configure(feathers.hooks()).configure(feathers.socketio(e));window.app=o,console.log(e),console.log(o),console.log("hello world")};angular.module("starter",["app.3dparty","app.common","app.features","ui.router"]).config(["$stateProvider",function(e){}]).run(run);var config=function(e){e.state("home",{url:"/home",templateUrl:"home.view.html",controller:"HomeController",controllerAs:"vm"})};angular.module("app.home",[]).config(["$stateProvider",config]);var config=function(e){e.state("login",{url:"/login",templateUrl:"login.view.html",controller:"LoginController",controllerAs:"vm"})};angular.module("app.login",[]).config(["$stateProvider",config]);var config=function(e){e.state("product-edit",{url:"/product/edit",templateUrl:"productEdit.view.html",controller:"ProductEditController",controllerAs:"vm"})};angular.module("app.productEdit",[]).config(["$stateProvider",config]);var config=function(e){e.state("product-create",{url:"/product/create",templateUrl:"productCreate.view.html",controller:"ProductCreateController",controllerAs:"vm"})};angular.module("app.productCreate",[]).config(["$stateProvider",config]);var config=function(e){e.state("product-list",{url:"/product/list",templateUrl:"productList.view.html",controller:"ProductListController",controllerAs:"vm"})};angular.module("app.productList",[]).config(["$stateProvider",config]);var config=function(e){e.state("user-create",{url:"/user/create",templateUrl:"userCreate.view.html",controller:"UserCreateController",controllerAs:"vm"})};angular.module("app.userCreate",[]).config(["$stateProvider",config]);var _createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var r=o[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(o,t,r){return t&&e(o.prototype,t),r&&e(o,r),o}}(),HomeController=function(){function e(o,t){_classCallCheck(this,e),this.$scope=o,this.$state=t}return _createClass(e,[{key:"welcome",value:function(){this.$scope.$emit("menu",!0),this.$state.go("product-list")}}]),e}();HomeController.$inject=["$scope","$state"],angular.module("app.home").controller("HomeController",HomeController);var _createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var r=o[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(o,t,r){return t&&e(o.prototype,t),r&&e(o,r),o}}(),LoginController=function(){function e(o,t){_classCallCheck(this,e),this.$scope=o,this.$state=t,this.user={}}return _createClass(e,[{key:"login",value:function(){var e=this,o={query:this.user};console.log(o),window.app.service("users").find(o).then(function(o){o.length>0?(e.$state.go("product-list"),e.$scope.$emit("logged",!0)):alert("Email e/ou Senha invalidos")})}}]),e}();LoginController.$inject=["$scope","$state"],angular.module("app.login").controller("LoginController",LoginController);var _createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var r=o[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(o,t,r){return t&&e(o.prototype,t),r&&e(o,r),o}}(),MenuController=function(){function e(o){_classCallCheck(this,e),this.$rootScope=o,this.isMenu=!1,this.isLogged=!1,this.registerEvents()}return _createClass(e,[{key:"registerEvents",value:function(){var e=this;console.log("registerEvents"),this.$rootScope.$on("menu",function(o){console.log("menu"),e.isMenu=o}),this.$rootScope.$on("logged",function(o){e.isLogged=o})}}]),e}();MenuController.$inject=["$rootScope"],angular.module("starter").controller("MenuController",MenuController);var ProductEditController=function e(){_classCallCheck(this,e)};angular.module("app.productEdit").controller("ProductEditController",ProductEditController);var _createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var r=o[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(o,t,r){return t&&e(o.prototype,t),r&&e(o,r),o}}(),ProductCreateController=function(){function e(o){_classCallCheck(this,e),this.$state=o,this.product={}}return _createClass(e,[{key:"save",value:function(){var e=this;console.log("Save Product"),window.app.service("products").create(this.product).then(function(){alert("Produto inserido com sucesso!"),e.$state.go("product-list")})}}]),e}();ProductCreateController.$inject=["$state"],angular.module("app.productCreate").controller("ProductCreateController",ProductCreateController);var _createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var r=o[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(o,t,r){return t&&e(o.prototype,t),r&&e(o,r),o}}(),ProductListController=function(){function e(o){_classCallCheck(this,e),this.$scope=o,this.products=[],this.getProducts()}return _createClass(e,[{key:"getProducts",value:function(){var e=this;console.log("getProducts"),window.app.service("products").find().then(function(o){e.$scope.$apply(function(){console.log(o),e.products=o.map(function(e){return console.log(e.price),e.price="R$ "+e.price,e}),e.products.push({name:"X-burger chibata",price:"R$ 20,00",description:"Isso e muito bom serio msm, maravilhoso, huuumm que delicia",photo:"http://www.sciam.com.br/noticias/img/um_x-burguer_duplo_pode_nao_ser_tao_ruim_para_o_coracao_1__2012-05-02152350.jpg",category:"Small"}),e.products.push({name:"X-burger chibata",price:"R$ 20,00",description:"Isso e muito bom serio msm, maravilhoso, huuumm que delicia",photo:"http://4.bp.blogspot.com/-Tg8LWop0Ows/UYhJLdtsBHI/AAAAAAAAA3E/yi47RJQ_IIg/s1600/como+fazer+x-burguer.jpg",category:"Small"}),console.log(e.products)})})}}]),e}();ProductListController.$inject=["$scope"],angular.module("app.productList").controller("ProductListController",ProductListController);var _createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var r=o[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(o,t,r){return t&&e(o.prototype,t),r&&e(o,r),o}}(),UserCreateController=function(){function e(o){_classCallCheck(this,e),this.$state=o,this.user={}}return _createClass(e,[{key:"save",value:function(){var e=this;console.log("Save User"),window.app.service("users").create(this.user).then(function(){alert("Usuario cadastrado com sucesso"),e.$this.state.go("login")})}}]),e}();UserCreateController.$inject=["$state"],angular.module("app.userCreate").controller("UserCreateController",UserCreateController);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC4zZHBhcnR5LmpzIiwiYXBwLmNvbW1vbi5qcyIsImFwcC5mZWF0dXJlcy5qcyIsImFwcC5zdGFydGVyLmpzIiwiZmVhdHVyZXMvaG9tZS9ob21lLm1vZHVsZS5qcyIsImZlYXR1cmVzL2xvZ2luL2xvZ2luLm1vZHVsZS5qcyIsImZlYXR1cmVzL3Byb2R1Y3QvZWRpdC9wcm9kdWN0RWRpdC5tb2R1bGUuanMiLCJmZWF0dXJlcy9wcm9kdWN0L2NyZWF0ZS9wcm9kdWN0Q3JlYXRlLm1vZHVsZS5qcyIsImZlYXR1cmVzL3Byb2R1Y3QvbGlzdC9wcm9kdWN0TGlzdC5tb2R1bGUuanMiLCJmZWF0dXJlcy91c2VyL2NyZWF0ZS91c2VyQ3JlYXRlLm1vZHVsZS5qcyIsImZlYXR1cmVzL2hvbWUvaG9tZS5jb250cm9sbGVyLmpzIiwiZmVhdHVyZXMvbG9naW4vbG9naW4uY29udHJvbGxlci5qcyIsImZlYXR1cmVzL21lbnUvbWVudS5jb250cm9sbGVyLmpzIiwiZmVhdHVyZXMvcHJvZHVjdC9lZGl0L3Byb2R1Y3RFZGl0LmNvbnRyb2xsZXIuanMiLCJmZWF0dXJlcy9wcm9kdWN0L2NyZWF0ZS9wcm9kdWN0Q3JlYXRlLmNvbnRyb2xsZXIuanMiLCJmZWF0dXJlcy9wcm9kdWN0L2xpc3QvcHJvZHVjdExpc3QuY29udHJvbGxlci5qcyIsImZlYXR1cmVzL3VzZXIvY3JlYXRlL3VzZXJDcmVhdGUuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwicnVuIiwic29ja2V0IiwiaW8iLCJhcHAiLCJmZWF0aGVycyIsImNvbmZpZ3VyZSIsImhvb2tzIiwic29ja2V0aW8iLCJ3aW5kb3ciLCJjb25zb2xlIiwibG9nIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsIkhvbWVDb250cm9sbGVyIiwiJHNjb3BlIiwiJHN0YXRlIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwiJGVtaXQiLCJnbyIsIiRpbmplY3QiLCJMb2dpbkNvbnRyb2xsZXIiLCJ1c2VyIiwiX3RoaXMiLCJvcHRpb25zIiwicXVlcnkiLCJzZXJ2aWNlIiwiZmluZCIsInRoZW4iLCJ1c2VycyIsImxlbmd0aCIsImFsZXJ0IiwiTWVudUNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiaXNNZW51IiwiaXNMb2dnZWQiLCJyZWdpc3RlckV2ZW50cyIsIiRvbiIsIlByb2R1Y3RFZGl0Q29udHJvbGxlciIsIlByb2R1Y3RDcmVhdGVDb250cm9sbGVyIiwicHJvZHVjdCIsImNyZWF0ZSIsIlByb2R1Y3RMaXN0Q29udHJvbGxlciIsInByb2R1Y3RzIiwiZ2V0UHJvZHVjdHMiLCIkYXBwbHkiLCJtYXAiLCJwcmljZSIsInB1c2giLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwaG90byIsImNhdGVnb3J5IiwiVXNlckNyZWF0ZUNvbnRyb2xsZXIiLCIkdGhpcyJdLCJtYXBwaW5ncyI6Iml3QkFDRUEsUUFBUUMsT0FBTyxlQUNiLGNDREFELFFBQVFDLE9BQU8saUJDQWpCRCxRQUFRQyxPQUFPLGdCQUNiLFlBRUEsb0JBQ0Esa0JBQ0Esa0JBRUEsaUJBRUEsWUNURixJQUFNQyxLQUFNLFdBQ1YsR0FBSUMsR0FBU0MsR0FBRyw4QkFDWkMsRUFBTUMsV0FDUEMsVUFBVUQsU0FBU0UsU0FDbkJELFVBQVVELFNBQVNHLFNBQVNOLEdBRS9CTyxRQUFPTCxJQUFNQSxFQUNiTSxRQUFRQyxJQUFJVCxHQUNaUSxRQUFRQyxJQUFJUCxHQUNaTSxRQUFRQyxJQUFJLGVBR2RaLFNBQVFDLE9BQU8sV0FDYixjQUNBLGFBQ0EsZUFDQSxjQUVEWSxRQUFRLGlCQUFpQixTQUFDQyxPQUUxQlosSUFBSUEsSUNwQkwsSUFBTVcsUUFBUyxTQUFDQyxHQUNkQSxFQUFlQyxNQUFNLFFBQ25CQyxJQUFLLFFBQ0xDLFlBQWEsaUJBQ2JDLFdBQVksaUJBQ1pDLGFBQWMsT0FJbEJuQixTQUNHQyxPQUFPLGVBQ1BZLFFBQVEsaUJBQWtCQSxRQ1g3QixJQUFNQSxRQUFTLFNBQUNDLEdBQ2RBLEVBQWVDLE1BQU0sU0FDbkJDLElBQUssU0FDTEMsWUFBYSxrQkFDYkMsV0FBWSxrQkFDWkMsYUFBYyxPQUlsQm5CLFNBQ0dDLE9BQU8sZ0JBQ1BZLFFBQVEsaUJBQWtCQSxRQ1g3QixJQUFNQSxRQUFTLFNBQUNDLEdBQ2RBLEVBQWVDLE1BQU0sZ0JBQ25CQyxJQUFLLGdCQUNMQyxZQUFhLHdCQUNiQyxXQUFZLHdCQUNaQyxhQUFjLE9BSWxCbkIsU0FDR0MsT0FBTyxzQkFDUFksUUFBUSxpQkFBa0JBLFFDWDdCLElBQU1BLFFBQVMsU0FBQ0MsR0FDWkEsRUFBZUMsTUFBTSxrQkFDbkJDLElBQUssa0JBQ0xDLFlBQWEsMEJBQ2JDLFdBQVksMEJBQ1pDLGFBQWMsT0FJcEJuQixTQUNHQyxPQUFPLHdCQUNQWSxRQUFRLGlCQUFrQkEsUUNYN0IsSUFBTUEsUUFBUyxTQUFDQyxHQUNkQSxFQUFlQyxNQUFNLGdCQUNuQkMsSUFBSyxnQkFDTEMsWUFBYSx3QkFDYkMsV0FBWSx3QkFDWkMsYUFBYyxPQUlsQm5CLFNBQ0dDLE9BQU8sc0JBQ1BZLFFBQVEsaUJBQWtCQSxRQ1g3QixJQUFNQSxRQUFTLFNBQUNDLEdBQ2RBLEVBQWVDLE1BQU0sZUFDbkJDLElBQUssZUFDTEMsWUFBYSx1QkFDYkMsV0FBWSx1QkFDWkMsYUFBYyxPQUlsQm5CLFNBQ0dDLE9BQU8scUJBQ1BZLFFBQVEsaUJBQWtCQSw2UUNYdkJPLGVBRFIsV0FFSSxRQUFBQSxHQUFZQyxFQUFRQyxHQUFPQyxnQkFBQUMsS0FBQUosR0FDekJJLEtBQUtILE9BQVNBLEVBQ2RHLEtBQUtGLE9BQVNBLEVBSnBCLE1BQUFHLGNBQUFMLElBQUFNLElBQUEsVUFBQUMsTUFBQSxXQVNNSCxLQUFLSCxPQUFPTyxNQUFNLFFBQVEsR0FDMUJKLEtBQUtGLE9BQU9PLEdBQUcsb0JBVnJCVCxJQWNFQSxnQkFBZVUsU0FBVyxTQUFVLFVBRXBDOUIsUUFDR0MsT0FBTyxZQUNQaUIsV0FBVyxpQkFBa0JFLG9SQ2pCMUJXLGdCQURSLFdBR0ksUUFBQUEsR0FBWVYsRUFBUUMsR0FBT0MsZ0JBQUFDLEtBQUFPLEdBQ3pCUCxLQUFLSCxPQUFTQSxFQUNkRyxLQUFLRixPQUFTQSxFQUVkRSxLQUFLUSxRQVBYLE1BQUFQLGNBQUFNLElBQUFMLElBQUEsUUFBQUMsTUFBQSxXQVVXLEdBQUFNLEdBQUFULEtBQ0NVLEdBQ0pDLE1BQU9YLEtBQUtRLEtBR2RyQixTQUFRQyxJQUFJc0IsR0FFWnhCLE9BQU9MLElBQUkrQixRQUFRLFNBQ2xCQyxLQUFLSCxHQUNMSSxLQUFLLFNBQUNDLEdBQ0ZBLEVBQU1DLE9BQVMsR0FDaEJQLEVBQUtYLE9BQU9PLEdBQUcsZ0JBQ2ZJLEVBQUtaLE9BQU9PLE1BQU0sVUFBVSxJQUU1QmEsTUFBTSxvQ0F4QmhCVixJQThCRUEsaUJBQWdCRCxTQUFXLFNBQVUsVUFFckM5QixRQUNHQyxPQUFPLGFBQ1BpQixXQUFXLGtCQUFtQmEscVJDakMzQlcsZUFEUixXQUdJLFFBQUFBLEdBQVlDLEdBQVdwQixnQkFBQUMsS0FBQWtCLEdBQ3JCbEIsS0FBS21CLFdBQWFBLEVBQ2xCbkIsS0FBS29CLFFBQVMsRUFDZHBCLEtBQUtxQixVQUFXLEVBRWhCckIsS0FBS3NCLGlCQVJYLE1BQUFyQixjQUFBaUIsSUFBQWhCLElBQUEsaUJBQUFDLE1BQUEsV0FXb0IsR0FBQU0sR0FBQVQsSUFDZGIsU0FBUUMsSUFBSSxrQkFFWlksS0FBS21CLFdBQVdJLElBQUksT0FBUSxTQUFDSCxHQUMzQmpDLFFBQVFDLElBQUksUUFFWnFCLEVBQUtXLE9BQVNBLElBR2hCcEIsS0FBS21CLFdBQVdJLElBQUksU0FBVSxTQUFDRixHQUM3QlosRUFBS1ksU0FBV0EsUUFyQnhCSCxJQTBCRUEsZ0JBQWVaLFNBQVcsY0FFMUI5QixRQUNHQyxPQUFPLFdBQ1BpQixXQUFXLGlCQUFrQndCLGVDOUJsQyxJQUNRTSx1QkFDSixRQUFBQSxLQUFhekIsZ0JBQUFDLEtBQUF3QixHQUtmaEQsU0FDR0MsT0FBTyxtQkFDUGlCLFdBQVcsd0JBQXlCOEIsMlJDUmpDQyx3QkFEUixXQUVJLFFBQUFBLEdBQVkzQixHQUFPQyxnQkFBQUMsS0FBQXlCLEdBQ2pCekIsS0FBS0YsT0FBU0EsRUFDZEUsS0FBSzBCLFdBSlgsTUFBQXpCLGNBQUF3QixJQUFBdkIsSUFBQSxPQUFBQyxNQUFBLFdBT1UsR0FBQU0sR0FBQVQsSUFDSmIsU0FBUUMsSUFBSSxnQkFDWkYsT0FBT0wsSUFBSStCLFFBQVEsWUFDbEJlLE9BQU8zQixLQUFLMEIsU0FDWlosS0FBSyxXQUNKRyxNQUFNLGlDQUNOUixFQUFLWCxPQUFPTyxHQUFHLHNCQWJ2Qm9CLElBa0JFQSx5QkFBd0JuQixTQUFXLFVBRW5DOUIsUUFDR0MsT0FBTyxxQkFDUGlCLFdBQVcsMEJBQTJCK0IsNlJDckJuQ0csc0JBRFIsV0FHSSxRQUFBQSxHQUFZL0IsR0FBT0UsZ0JBQUFDLEtBQUE0QixHQUNqQjVCLEtBQUtILE9BQVNBLEVBQ2RHLEtBQUs2QixZQUdMN0IsS0FBSzhCLGNBUlgsTUFBQTdCLGNBQUEyQixJQUFBMUIsSUFBQSxjQUFBQyxNQUFBLFdBV2lCLEdBQUFNLEdBQUFULElBQ1hiLFNBQVFDLElBQUksZUFDWkYsT0FBT0wsSUFBSStCLFFBQVEsWUFDbEJDLE9BQ0FDLEtBQUssU0FBQ2UsR0FDTHBCLEVBQUtaLE9BQU9rQyxPQUFPLFdBQ2pCNUMsUUFBUUMsSUFBSXlDLEdBQ1pwQixFQUFLb0IsU0FBV0EsRUFBU0csSUFBSSxTQUFDTixHQUc1QixNQUZBdkMsU0FBUUMsSUFBSXNDLEVBQVFPLE9BQ3BCUCxFQUFRTyxNQUFSLE1BQXNCUCxFQUFRTyxNQUN2QlAsSUFJVGpCLEVBQUtvQixTQUFTSyxNQUNaQyxLQUFNLG1CQUNORixNQUFPLFdBQ1BHLFlBQWEsOERBQ2JDLE1BQU8sdUhBQ1BDLFNBQVUsVUFHWjdCLEVBQUtvQixTQUFTSyxNQUNaQyxLQUFNLG1CQUNORixNQUFPLFdBQ1BHLFlBQWEsOERBQ2JDLE1BQU8sMkdBQ1BDLFNBQVUsVUFFWm5ELFFBQVFDLElBQUlxQixFQUFLb0Isa0JBeEMzQkQsSUE4Q0VBLHVCQUFzQnRCLFNBQVcsVUFFakM5QixRQUNHQyxPQUFPLG1CQUNQaUIsV0FBVyx3QkFBeUJrQywyUkNqRGpDVyxxQkFEUixXQUVJLFFBQUFBLEdBQVl6QyxHQUFPQyxnQkFBQUMsS0FBQXVDLEdBQ2pCdkMsS0FBS0YsT0FBU0EsRUFDZEUsS0FBS1EsUUFKWCxNQUFBUCxjQUFBc0MsSUFBQXJDLElBQUEsT0FBQUMsTUFBQSxXQU9VLEdBQUFNLEdBQUFULElBQ0piLFNBQVFDLElBQUksYUFDWkYsT0FBT0wsSUFBSStCLFFBQVEsU0FDbEJlLE9BQU8zQixLQUFLUSxNQUNaTSxLQUFLLFdBQ0pHLE1BQU0sa0NBQ05SLEVBQUsrQixNQUFNakQsTUFBTWMsR0FBRyxlQWI1QmtDLElBa0JFQSxzQkFBcUJqQyxTQUFXLFVBRWhDOUIsUUFDR0MsT0FBTyxrQkFDUGlCLFdBQVcsdUJBQXdCNkMiLCJmaWxlIjoiYXBsaWNhdGlvbi5hbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ7XG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAuM2RwYXJ0eScsW1xuICAgICd1aS5yb3V0ZXInXG4gIF0pO1xufVxuIiwie1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuY29tbW9uJywgW10pO1xufVxuIiwie1xuICBhbmd1bGFyLm1vZHVsZSgnYXBwLmZlYXR1cmVzJywgW1xuICAgICdhcHAubG9naW4nLFxuXG4gICAgJ2FwcC5wcm9kdWN0Q3JlYXRlJyxcbiAgICAnYXBwLnByb2R1Y3RFZGl0JyxcbiAgICAnYXBwLnByb2R1Y3RMaXN0JyxcblxuICAgICdhcHAudXNlckNyZWF0ZScsXG5cbiAgICAnYXBwLmhvbWUnXG4gIF0pO1xufVxuIiwie1xuICBjb25zdCBydW4gPSAoKSA9PiB7XG4gICAgdmFyIHNvY2tldCA9IGlvKCdodHRwOi8vMTkyLjE2OC4yNS4xNjI6MzAzMCcpO1xuICAgIHZhciBhcHAgPSBmZWF0aGVycygpXG4gICAgICAuY29uZmlndXJlKGZlYXRoZXJzLmhvb2tzKCkpXG4gICAgICAuY29uZmlndXJlKGZlYXRoZXJzLnNvY2tldGlvKHNvY2tldCkpO1xuXG4gICAgd2luZG93LmFwcCA9IGFwcDtcbiAgICBjb25zb2xlLmxvZyhzb2NrZXQpO1xuICAgIGNvbnNvbGUubG9nKGFwcCk7XG4gICAgY29uc29sZS5sb2coJ2hlbGxvIHdvcmxkJyk7XG59O1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdzdGFydGVyJywgW1xuICAgICdhcHAuM2RwYXJ0eScsXG4gICAgJ2FwcC5jb21tb24nLFxuICAgICdhcHAuZmVhdHVyZXMnLFxuICAgICd1aS5yb3V0ZXInXG4gIF0pXG4gIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsKCRzdGF0ZVByb3ZpZGVyKSA9PiB7XG4gIH1dKVxuICAucnVuKHJ1bik7XG59XG4iLCJ7XG4gIGNvbnN0IGNvbmZpZyA9ICgkc3RhdGVQcm92aWRlcikgPT4ge1xuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdob21lJywge1xuICAgICAgdXJsOiAnL2hvbWUnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdob21lLnZpZXcuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiAnSG9tZUNvbnRyb2xsZXInLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSk7XG4gIH1cblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmhvbWUnLCBbXSlcbiAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBjb25maWddKTtcbn1cbiIsIntcbiAgY29uc3QgY29uZmlnID0gKCRzdGF0ZVByb3ZpZGVyKSA9PiB7XG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2xvZ2luJywge1xuICAgICAgdXJsOiAnL2xvZ2luJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnbG9naW4udmlldy5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSk7XG4gIH07XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5sb2dpbicsW10pXG4gICAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgY29uZmlnXSk7XG59XG4iLCJ7XG4gIGNvbnN0IGNvbmZpZyA9ICgkc3RhdGVQcm92aWRlcikgPT4ge1xuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdwcm9kdWN0LWVkaXQnLHtcbiAgICAgIHVybDogJy9wcm9kdWN0L2VkaXQnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdwcm9kdWN0RWRpdC52aWV3Lmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogJ1Byb2R1Y3RFZGl0Q29udHJvbGxlcicsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICB9O1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAucHJvZHVjdEVkaXQnLCBbXSlcbiAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBjb25maWddKTtcbn1cbiIsIntcbiAgY29uc3QgY29uZmlnID0gKCRzdGF0ZVByb3ZpZGVyKSA9PiB7XG4gICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgncHJvZHVjdC1jcmVhdGUnLCB7XG4gICAgICAgIHVybDogJy9wcm9kdWN0L2NyZWF0ZScsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAncHJvZHVjdENyZWF0ZS52aWV3Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnUHJvZHVjdENyZWF0ZUNvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgIH0pXG4gIH07XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5wcm9kdWN0Q3JlYXRlJywgW10pXG4gICAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgY29uZmlnXSk7XG59XG4iLCJ7XG4gIGNvbnN0IGNvbmZpZyA9ICgkc3RhdGVQcm92aWRlcikgPT4ge1xuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdwcm9kdWN0LWxpc3QnLCB7XG4gICAgICB1cmw6ICcvcHJvZHVjdC9saXN0JyxcbiAgICAgIHRlbXBsYXRlVXJsOiAncHJvZHVjdExpc3Qudmlldy5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdQcm9kdWN0TGlzdENvbnRyb2xsZXInLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgfTtcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLnByb2R1Y3RMaXN0JywgW10pXG4gICAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgY29uZmlnXSk7XG59XG4iLCJ7XG4gIGNvbnN0IGNvbmZpZyA9ICgkc3RhdGVQcm92aWRlcikgPT4ge1xuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCd1c2VyLWNyZWF0ZScsIHtcbiAgICAgIHVybDogJy91c2VyL2NyZWF0ZScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3VzZXJDcmVhdGUudmlldy5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdVc2VyQ3JlYXRlQ29udHJvbGxlcicsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KTtcbiAgfTtcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLnVzZXJDcmVhdGUnLCBbXSlcbiAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBjb25maWddKTtcbn1cbiIsIntcbiAgY2xhc3MgSG9tZUNvbnRyb2xsZXJ7XG4gICAgY29uc3RydWN0b3IoJHNjb3BlLCAkc3RhdGUpe1xuICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XG4gICAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcbiAgICB9XG5cbiAgICB3ZWxjb21lKCl7XG4gICAgICBkZWJ1Z2dlcjtcbiAgICAgIHRoaXMuJHNjb3BlLiRlbWl0KCdtZW51JywgdHJ1ZSk7XG4gICAgICB0aGlzLiRzdGF0ZS5nbygncHJvZHVjdC1saXN0Jyk7XG4gICAgfVxuICB9XG5cbiAgSG9tZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRzdGF0ZSddO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAuaG9tZScpXG4gICAgLmNvbnRyb2xsZXIoJ0hvbWVDb250cm9sbGVyJywgSG9tZUNvbnRyb2xsZXIpO1xufVxuIiwie1xuICBjbGFzcyBMb2dpbkNvbnRyb2xsZXJ7XG4gICAgLyogQEluamVjdCAqL1xuICAgIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlKXtcbiAgICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xuICAgICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG4gICAgICAvL21vZGVsXG4gICAgICB0aGlzLnVzZXIgPSB7fTtcbiAgICB9XG5cbiAgICBsb2dpbigpe1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgcXVlcnk6IHRoaXMudXNlclxuICAgICAgfTtcblxuICAgICAgY29uc29sZS5sb2cob3B0aW9ucyk7XG5cbiAgICAgIHdpbmRvdy5hcHAuc2VydmljZSgndXNlcnMnKVxuICAgICAgLmZpbmQob3B0aW9ucylcbiAgICAgIC50aGVuKCh1c2VycykgPT4ge1xuICAgICAgICBpZih1c2Vycy5sZW5ndGggPiAwKXtcbiAgICAgICAgICB0aGlzLiRzdGF0ZS5nbygncHJvZHVjdC1saXN0Jyk7XG4gICAgICAgICAgdGhpcy4kc2NvcGUuJGVtaXQoJ2xvZ2dlZCcsIHRydWUpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBhbGVydCgnRW1haWwgZS9vdSBTZW5oYSBpbnZhbGlkb3MnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgTG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckc3RhdGUnXTtcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmxvZ2luJylcbiAgICAuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgTG9naW5Db250cm9sbGVyKTtcbn1cbiIsIntcbiAgY2xhc3MgTWVudUNvbnRyb2xsZXJ7XG5cbiAgICBjb25zdHJ1Y3Rvcigkcm9vdFNjb3BlKXtcbiAgICAgIHRoaXMuJHJvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gICAgICB0aGlzLmlzTWVudSA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0xvZ2dlZCA9IGZhbHNlO1xuXG4gICAgICB0aGlzLnJlZ2lzdGVyRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFdmVudHMoKXtcbiAgICAgIGNvbnNvbGUubG9nKCdyZWdpc3RlckV2ZW50cycpO1xuXG4gICAgICB0aGlzLiRyb290U2NvcGUuJG9uKCdtZW51JywgKGlzTWVudSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnbWVudScpO1xuXG4gICAgICAgIHRoaXMuaXNNZW51ID0gaXNNZW51O1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuJHJvb3RTY29wZS4kb24oJ2xvZ2dlZCcsIChpc0xvZ2dlZCkgPT4ge1xuICAgICAgICB0aGlzLmlzTG9nZ2VkID0gaXNMb2dnZWQ7XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIE1lbnVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnXTtcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnc3RhcnRlcicpXG4gICAgLmNvbnRyb2xsZXIoJ01lbnVDb250cm9sbGVyJywgTWVudUNvbnRyb2xsZXIpO1xufVxuIiwie1xuICBjbGFzcyBQcm9kdWN0RWRpdENvbnRyb2xsZXJ7XG4gICAgY29uc3RydWN0b3IoKXtcblxuICAgIH1cbiAgfVxuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAucHJvZHVjdEVkaXQnKVxuICAgIC5jb250cm9sbGVyKCdQcm9kdWN0RWRpdENvbnRyb2xsZXInLCBQcm9kdWN0RWRpdENvbnRyb2xsZXIpO1xufVxuIiwie1xuICBjbGFzcyBQcm9kdWN0Q3JlYXRlQ29udHJvbGxlcntcbiAgICBjb25zdHJ1Y3Rvcigkc3RhdGUpe1xuICAgICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG4gICAgICB0aGlzLnByb2R1Y3QgPSB7fTtcbiAgICB9XG5cbiAgICBzYXZlKCl7XG4gICAgICBjb25zb2xlLmxvZygnU2F2ZSBQcm9kdWN0Jyk7XG4gICAgICB3aW5kb3cuYXBwLnNlcnZpY2UoJ3Byb2R1Y3RzJylcbiAgICAgIC5jcmVhdGUodGhpcy5wcm9kdWN0KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBhbGVydCgnUHJvZHV0byBpbnNlcmlkbyBjb20gc3VjZXNzbyEnKTtcbiAgICAgICAgdGhpcy4kc3RhdGUuZ28oJ3Byb2R1Y3QtbGlzdCcpO1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBQcm9kdWN0Q3JlYXRlQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc3RhdGUnXTtcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLnByb2R1Y3RDcmVhdGUnKVxuICAgIC5jb250cm9sbGVyKCdQcm9kdWN0Q3JlYXRlQ29udHJvbGxlcicsIFByb2R1Y3RDcmVhdGVDb250cm9sbGVyKTtcbn1cbiIsIntcbiAgY2xhc3MgUHJvZHVjdExpc3RDb250cm9sbGVye1xuICAgIC8qIEBJbmplY3QgKi9cbiAgICBjb25zdHJ1Y3Rvcigkc2NvcGUpe1xuICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XG4gICAgICB0aGlzLnByb2R1Y3RzID0gW1xuICAgICAgXTtcblxuICAgICAgdGhpcy5nZXRQcm9kdWN0cygpO1xuICAgIH1cblxuICAgIGdldFByb2R1Y3RzKCl7XG4gICAgICBjb25zb2xlLmxvZygnZ2V0UHJvZHVjdHMnKTtcbiAgICAgIHdpbmRvdy5hcHAuc2VydmljZSgncHJvZHVjdHMnKVxuICAgICAgLmZpbmQoKVxuICAgICAgLnRoZW4oKHByb2R1Y3RzKSA9PiB7XG4gICAgICAgIHRoaXMuJHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdHMpO1xuICAgICAgICAgIHRoaXMucHJvZHVjdHMgPSBwcm9kdWN0cy5tYXAoKHByb2R1Y3QpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3QucHJpY2UpO1xuICAgICAgICAgICAgcHJvZHVjdC5wcmljZSA9IGBSJCAke3Byb2R1Y3QucHJpY2V9YDtcbiAgICAgICAgICAgIHJldHVybiBwcm9kdWN0O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8vXG4gICAgICAgICAgdGhpcy5wcm9kdWN0cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6ICdYLWJ1cmdlciBjaGliYXRhJyxcbiAgICAgICAgICAgIHByaWNlOiAnUiQgMjAsMDAnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdJc3NvIGUgbXVpdG8gYm9tIHNlcmlvIG1zbSwgbWFyYXZpbGhvc28sIGh1dXVtbSBxdWUgZGVsaWNpYScsXG4gICAgICAgICAgICBwaG90bzogJ2h0dHA6Ly93d3cuc2NpYW0uY29tLmJyL25vdGljaWFzL2ltZy91bV94LWJ1cmd1ZXJfZHVwbG9fcG9kZV9uYW9fc2VyX3Rhb19ydWltX3BhcmFfb19jb3JhY2FvXzFfXzIwMTItMDUtMDIxNTIzNTAuanBnJyxcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnU21hbGwnXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLnByb2R1Y3RzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogJ1gtYnVyZ2VyIGNoaWJhdGEnLFxuICAgICAgICAgICAgcHJpY2U6ICdSJCAyMCwwMCcsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0lzc28gZSBtdWl0byBib20gc2VyaW8gbXNtLCBtYXJhdmlsaG9zbywgaHV1dW1tIHF1ZSBkZWxpY2lhJyxcbiAgICAgICAgICAgIHBob3RvOiAnaHR0cDovLzQuYnAuYmxvZ3Nwb3QuY29tLy1UZzhMV29wME93cy9VWWhKTGR0c0JISS9BQUFBQUFBQUEzRS95aTQ3UkpRX0lJZy9zMTYwMC9jb21vK2ZhemVyK3gtYnVyZ3Vlci5qcGcnLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdTbWFsbCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb2R1Y3RzKTtcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgUHJvZHVjdExpc3RDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZSddO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAucHJvZHVjdExpc3QnKVxuICAgIC5jb250cm9sbGVyKCdQcm9kdWN0TGlzdENvbnRyb2xsZXInLCBQcm9kdWN0TGlzdENvbnRyb2xsZXIpO1xufVxuIiwie1xuICBjbGFzcyBVc2VyQ3JlYXRlQ29udHJvbGxlcntcbiAgICBjb25zdHJ1Y3Rvcigkc3RhdGUpe1xuICAgICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG4gICAgICB0aGlzLnVzZXIgPSB7fTtcbiAgICB9XG5cbiAgICBzYXZlKCl7XG4gICAgICBjb25zb2xlLmxvZygnU2F2ZSBVc2VyJyk7XG4gICAgICB3aW5kb3cuYXBwLnNlcnZpY2UoJ3VzZXJzJylcbiAgICAgIC5jcmVhdGUodGhpcy51c2VyKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBhbGVydCgnVXN1YXJpbyBjYWRhc3RyYWRvIGNvbSBzdWNlc3NvJyk7XG4gICAgICAgIHRoaXMuJHRoaXMuc3RhdGUuZ28oJ2xvZ2luJyk7XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIFVzZXJDcmVhdGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzdGF0ZSddO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAudXNlckNyZWF0ZScpXG4gICAgLmNvbnRyb2xsZXIoJ1VzZXJDcmVhdGVDb250cm9sbGVyJywgVXNlckNyZWF0ZUNvbnRyb2xsZXIpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
